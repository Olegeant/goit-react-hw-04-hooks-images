{"version":3,"sources":["components/Notification/Notification.module.css","components/Modal/Modal.module.css","components/ScrollArrow/ScrollArrow.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","utils/image-api.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Notification/Notification.js","components/Loader/Loader.js","components/Modal/Modal.js","components/ScrollArrow/ScrollArrow.js","utils/utils.js","App.js","index.js","components/Searchbar/Searchbar.module.css","components/Button/Button.module.css"],"names":["module","exports","RESOURCE_URL","API_KEY","OPTIONS","api","fetchImages","query","page","searchParams","URLSearchParams","image_type","orientation","q","per_page","key","url","fetch","then","response","ok","json","Promise","reject","Error","Searchbar","onSubmit","useState","searchQuery","setSearchQuery","className","styles","SearchForm","evt","preventDefault","newQuery","trim","toast","error","type","autoComplete","autoFocus","placeholder","value","onChange","target","toLowerCase","ImageGalleryItem","id","tags","src","alt","ImageGallery","images","onImgClick","onClick","currentTarget","clickedImgId","Number","dataset","map","image","webformatURL","Button","loading","children","ButtonLoading","ButtonText","defaultProps","Notification","Message","join","Loader","color","height","width","modalRoot","document","querySelector","Modal","largeImageURL","onClose","handleKeyDown","useCallback","code","useEffect","window","addEventListener","removeEventListener","createPortal","Overlay","CloseBtn","ScrollArrow","isArrowShown","setIsArrowShown","throttledScrollManager","func","wait","savedArgs","savedThis","isThrottled","wrapper","arguments","this","apply","setTimeout","throttle","pageYOffset","documentElement","clientHeight","body","scrollHeight","ArrowUp","ArrowDown","makeArrowStyles","scrollTo","top","left","pageXOffset","behavior","Status","App","pagesDisplayed","setPagesDisplayed","setImages","setError","status","setStatus","isModalOpen","setIsModalOpen","modalImage","setModalImage","isLoading","setIsLoading","isLoadBtnShown","setIsLoadBtnShown","imageAPI","data","hits","newImages","length","filter","some","catch","message","toggleModal","addPage","clickedImage","find","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8217eadc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Notification\":\"Notification_Notification__2itmK\",\"Message\":\"Notification_Message__3De0i\",\"info\":\"Notification_info__koknh\",\"warning\":\"Notification_warning__20YlR\",\"error\":\"Notification_error__3nMHe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__ntM-Q\",\"Modal\":\"Modal_Modal__3f_ik\",\"CloseBtn\":\"Modal_CloseBtn__3DTJZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Arrow\":\"ScrollArrow_Arrow__3Y82g\",\"ArrowUp\":\"ScrollArrow_ArrowUp__2sP7L ScrollArrow_Arrow__3Y82g\",\"ArrowDown\":\"ScrollArrow_ArrowDown__1LkSS ScrollArrow_Arrow__3Y82g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1yBlp\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__3afTu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__Vbq3b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__2shR7\"};","const RESOURCE_URL = 'https://pixabay.com/api/';\r\nconst API_KEY = '21850804-e13ac47ee6c84255406cdac88';\r\nconst PER_PAGE_DEFAULT = 12;\r\n\r\nconst OPTIONS = {};\r\n\r\nfunction fetchImages(query, page = 1) {\r\n  const searchParams = new URLSearchParams({\r\n    image_type: 'photo',\r\n    orientation: 'horizontal',\r\n    q: query,\r\n    page,\r\n    per_page: PER_PAGE_DEFAULT,\r\n    key: API_KEY,\r\n  });\r\n\r\n  const url = RESOURCE_URL + '?' + searchParams;\r\n\r\n  return fetch(url, OPTIONS).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n\r\n    return Promise.reject(new Error('Unexpected error from server side'));\r\n  });\r\n}\r\n\r\nconst api = {\r\n  fetchImages,\r\n};\r\n\r\nexport default api;\r\n","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport styles from './Searchbar.module.css';\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  const handleQueryChange = evt => {\r\n    setSearchQuery(evt.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleSubmit = evt => {\r\n    evt.preventDefault();\r\n\r\n    const newQuery = searchQuery.trim();\r\n\r\n    if (!newQuery) {\r\n      toast.error('Enter search query');\r\n      return;\r\n    }\r\n\r\n    onSubmit(newQuery);\r\n    setSearchQuery('');\r\n  };\r\n\r\n  return (\r\n    <header className={styles.Searchbar}>\r\n      <form className={styles.SearchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={styles['SearchForm-button']}>\r\n          <span className={styles['SearchForm-button-label']}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={styles['SearchForm-input']}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={searchQuery}\r\n          onChange={handleQueryChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Searchbar;\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nfunction ImageGalleryItem({ url, id, tags }) {\r\n  return (\r\n    <li className={styles.ImageGalleryItem}>\r\n      <img\r\n        src={url}\r\n        data-id={id}\r\n        alt={tags}\r\n        className={styles['ImageGalleryItem-image']}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n\r\nImageGalleryItem.propTypes = {\r\n  url: PropTypes.string.isRequired,\r\n  id: PropTypes.number.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nfunction ImageGallery({ images, onImgClick }) {\r\n  const handleClick = evt => {\r\n    if (evt.target === evt.currentTarget) return;\r\n\r\n    const clickedImgId = Number(evt.target.dataset.id);\r\n    onImgClick(clickedImgId);\r\n  };\r\n\r\n  return (\r\n    <ul className={styles.ImageGallery} onClick={handleClick}>\r\n      {images.map(image => (\r\n        <ImageGalleryItem\r\n          key={image.id}\r\n          id={image.id}\r\n          url={image.webformatURL}\r\n          tags={image.tags}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default ImageGallery;\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  onImgClick: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './Button.module.css';\r\n\r\nfunction Button({ onClick, loading, children }) {\r\n  const handleClick = () => {\r\n    if (loading) return;\r\n\r\n    onClick();\r\n  };\r\n\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      onClick={handleClick}\r\n      className={loading ? styles.ButtonLoading : styles.Button}\r\n    >\r\n      <span className={styles.ButtonText}>{children}</span>\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Button;\r\n\r\nButton.defaultProps = {\r\n  loading: false,\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n  loading: PropTypes.bool,\r\n  children: PropTypes.node.isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport styles from './Notification.module.css';\r\n\r\nfunction Notification({ type, children }) {\r\n  const makemessageStyles = () => {\r\n    return [styles.Message, styles[type]].join(' ');\r\n  };\r\n\r\n  return (\r\n    <div className={styles.Notification}>\r\n      <p className={makemessageStyles()}>{children}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Notification;\r\n\r\nNotification.defaultProps = {\r\n  type: 'info',\r\n};\r\n\r\nNotification.propTypes = {\r\n  type: PropTypes.oneOf(['info', 'warning', 'error']),\r\n  children: PropTypes.node.isRequired,\r\n};\r\n","import Spinner from 'react-loader-spinner';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Loader.module.css';\r\n\r\nexport default function Loader({ type, color, height, width }) {\r\n  return (\r\n    <Spinner\r\n      className={styles.Loader}\r\n      type={type}\r\n      color={color}\r\n      height={height}\r\n      width={width}\r\n    />\r\n  );\r\n}\r\n\r\nLoader.propTypes = {\r\n  type: PropTypes.string.isRequired,\r\n  color: PropTypes.string.isRequired,\r\n  height: PropTypes.number.isRequired,\r\n  width: PropTypes.number.isRequired,\r\n};\r\n","import { useEffect, useCallback } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nconst Modal = ({ image: { largeImageURL, tags }, onClose }) => {\r\n  const handleKeyDown = useCallback(\r\n    evt => {\r\n      if (evt.code === 'Escape') {\r\n        onClose();\r\n      }\r\n    },\r\n    [onClose],\r\n  );\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyDown);\r\n\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [handleKeyDown]);\r\n\r\n  const handleBackdropClick = evt => {\r\n    if (evt.currentTarget === evt.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={styles.Overlay} onClick={handleBackdropClick}>\r\n      <div className={styles.Modal}>\r\n        <img src={largeImageURL} alt={tags} />\r\n      </div>\r\n      <button type=\"button\" className={styles.CloseBtn} onClick={onClose}>\r\n        &#10006;\r\n      </button>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n\r\nModal.propTypes = {\r\n  image: PropTypes.shape({\r\n    largeImageURL: PropTypes.string,\r\n    tags: PropTypes.string,\r\n  }).isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n","import { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { throttle } from '../../utils/utils';\r\nimport styles from './ScrollArrow.module.css';\r\n\r\nconst ScrollArrow = ({ type }) => {\r\n  const [isArrowShown, setIsArrowShown] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const scrollDisplayManager = () => {\r\n      switch (type) {\r\n        case 'up':\r\n          setIsArrowShown(\r\n            window.pageYOffset > document.documentElement.clientHeight,\r\n          );\r\n          break;\r\n\r\n        case 'down':\r\n          setIsArrowShown(\r\n            window.pageYOffset + 2 * document.documentElement.clientHeight <\r\n              document.body.scrollHeight,\r\n          );\r\n          break;\r\n\r\n        default:\r\n      }\r\n    };\r\n\r\n    const throttledScrollManager = throttle(scrollDisplayManager, 500);\r\n    window.addEventListener('scroll', throttledScrollManager);\r\n\r\n    return () => {\r\n      window.removeEventListener('scroll', throttledScrollManager);\r\n    };\r\n  }, [type]);\r\n\r\n  const onArrowClick = () => {\r\n    switch (type) {\r\n      case 'up':\r\n        window.scrollTo({\r\n          top: 0,\r\n          left: window.pageXOffset,\r\n          behavior: 'smooth',\r\n        });\r\n        break;\r\n\r\n      case 'down':\r\n        window.scrollTo({\r\n          top: document.body.scrollHeight,\r\n          left: window.pageXOffset,\r\n          behavior: 'smooth',\r\n        });\r\n        break;\r\n\r\n      default:\r\n        throw new Error('Unsupported scroll-arrow type');\r\n    }\r\n  };\r\n\r\n  const makeArrowStyles = () => {\r\n    switch (type) {\r\n      case 'up':\r\n        return styles.ArrowUp;\r\n\r\n      case 'down':\r\n        return styles.ArrowDown;\r\n\r\n      default:\r\n        return styles.ArrowUp;\r\n    }\r\n  };\r\n\r\n  return isArrowShown ? (\r\n    <div className={makeArrowStyles()} onClick={onArrowClick}></div>\r\n  ) : null;\r\n};\r\n\r\nexport default ScrollArrow;\r\n\r\nScrollArrow.propTypes = {\r\n  type: PropTypes.oneOf(['up', 'down']).isRequired,\r\n};\r\n","export function throttle(func, wait) {\r\n  let isThrottled = false,\r\n    savedArgs,\r\n    savedThis;\r\n\r\n  function wrapper() {\r\n    if (isThrottled) {\r\n      savedArgs = arguments;\r\n      savedThis = this;\r\n      return;\r\n    }\r\n\r\n    func.apply(this, arguments);\r\n\r\n    isThrottled = true;\r\n\r\n    setTimeout(function () {\r\n      isThrottled = false;\r\n      if (savedArgs) {\r\n        wrapper.apply(savedThis, savedArgs);\r\n        savedArgs = savedThis = null;\r\n      }\r\n    }, wait);\r\n  }\r\n\r\n  return wrapper;\r\n}\r\n","import { useState, useEffect, useCallback } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport imageAPI from './utils/image-api.js';\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Notification from './components/Notification/Notification';\nimport Loader from './components/Loader/Loader';\nimport Modal from './components/Modal/Modal';\nimport ScrollArrow from './components/ScrollArrow/ScrollArrow';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nconst App = () => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [pagesDisplayed, setPagesDisplayed] = useState(1);\n  const [images, setImages] = useState([]);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState(Status.IDLE);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [modalImage, setModalImage] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isLoadBtnShown, setIsLoadBtnShown] = useState(false);\n\n  useEffect(() => {\n    const handleData = data => {\n      return data.hits.map(({ id, webformatURL, largeImageURL, tags }) => ({\n        id,\n        webformatURL,\n        largeImageURL,\n        tags,\n      }));\n    };\n\n    if (searchQuery === '') return;\n\n    setStatus(Status.PENDING);\n    setIsLoading(true);\n\n    imageAPI\n      .fetchImages(searchQuery, pagesDisplayed)\n      .then(handleData)\n      .then(newImages => {\n        if (newImages.length === 0) {\n          if (pagesDisplayed === 1) {\n            toast.error('No images for this query. Try another search');\n          } else {\n            toast.error('No more images on Pixabay! You may add your images!');\n          }\n\n          setIsLoadBtnShown(false);\n        } else {\n          setIsLoadBtnShown(true);\n        }\n\n        setImages(images => [\n          ...images,\n          ...newImages.filter(\n            image => !images.some(({ id }) => id === image.id),\n          ),\n        ]);\n        setStatus(Status.RESOLVED);\n        setIsLoading(false);\n\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(error => {\n        toast.error(error.message);\n\n        setError(error);\n        setStatus(Status.REJECTED);\n        setIsLoading(false);\n      });\n  }, [searchQuery, pagesDisplayed]);\n\n  const toggleModal = useCallback(() => {\n    setIsModalOpen(isModalOpen => !isModalOpen);\n  }, []);\n\n  const onImageClick = clickedImgId => {\n    const clickedImage = images.find(image => {\n      return clickedImgId === image.id;\n    });\n\n    setModalImage(clickedImage);\n\n    toggleModal();\n  };\n\n  const addPage = () => {\n    setPagesDisplayed(pagesDisplayed => pagesDisplayed + 1);\n  };\n\n  const handleFormSubmit = newQuery => {\n    if (newQuery === searchQuery) {\n      addPage();\n      return;\n    }\n\n    setSearchQuery(newQuery);\n    setImages([]);\n    setPagesDisplayed(1);\n  };\n\n  return (\n    <>\n      <Searchbar onSubmit={handleFormSubmit} />\n\n      {status === Status.IDLE && (\n        <Notification type=\"info\">\n          No images yet. Please enter the query for search!\n        </Notification>\n      )}\n\n      {status === Status.RESOLVED && images.length === 0 && (\n        <Notification type=\"warning\">No search results...</Notification>\n      )}\n\n      {status === Status.REJECTED && images.length === 0 && (\n        <Notification type=\"error\">\n          ERROR OCCURRED! {error.message}\n        </Notification>\n      )}\n\n      <ImageGallery images={images} onImgClick={onImageClick} />\n\n      {isLoadBtnShown && (\n        <Button onClick={addPage} loading={isLoading}>\n          Load more...\n        </Button>\n      )}\n\n      {<ToastContainer autoClose={3000} />}\n\n      {isModalOpen && <Modal image={modalImage} onClose={toggleModal} />}\n\n      {isLoading && (\n        <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={180} width={180} />\n      )}\n\n      <ScrollArrow type=\"down\" />\n      <ScrollArrow type=\"up\" />\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__A3zJN\",\"SearchForm\":\"Searchbar_SearchForm__1xI2c\",\"SearchForm-button\":\"Searchbar_SearchForm-button__1inmr\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__3gJm3\",\"SearchForm-input\":\"Searchbar_SearchForm-input__3Xtpu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1qsyI\",\"ButtonLoading\":\"Button_ButtonLoading__QSJhQ Button_Button__1qsyI\",\"ButtonText\":\"Button_ButtonText__qJTHk\",\"rotate\":\"Button_rotate__LCq8s\"};"],"sourceRoot":""}